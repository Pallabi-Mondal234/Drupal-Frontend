{# multilevel menu #}

{% macro multi_level_menu(items, attributes, menu_level) %}
{% if items %}
<ul class="menu_level-{{ menu_level }} nav navbar-nav">
  {% for item in items %}
  {%
  set classes_link = [
  'nav-link',
  item.is_expanded or item.is_collapsed ? 'dropdown-toggle',
  item.in_active_trail ? 'active',
  ]
  %}
  <li {{ item.attributes.addClass('nav-item') }}>
    {{ link(item.title, item.url, { 'class': classes_link }) }}
    {# if there is level in menu #}
    {% if item.below %}
    {{ _self.multi_level_menu(item.below, attributes, menu_level + 1) }}
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endif %}
{% endmacro %}
